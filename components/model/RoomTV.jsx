/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
Command: npx gltfjsx@6.2.13 /home/TA/resource/Laboratory/RoomTV.glb --transform --shadows 
Files: /home/TA/resource/Laboratory/RoomTV.glb [2.28MB] > RoomTV-transformed.glb [378.62KB] (83%)
*/

import { useRef } from 'react'
import { Html, useGLTF } from '@react-three/drei'
import { useFrame } from '@react-three/fiber'
import { Interactive, useXR } from '@react-three/xr'
import { toast } from 'react-toastify'
import Styles from '../../app/styles.module.css'
import { DoubleSide } from 'three'

export function RoomTV(props) {
  const screen = useRef(null)
  const { nodes, materials } = useGLTF('models/RoomTV-transformed.glb')

  const {controllers} = useXR()

  useFrame(() => {
    // 
  }, 4)
  return (
    <group {...props} dispose={null}>
      <group position={[0.207, 0.142, 2.153]} rotation={[-Math.PI / 2, 0, -1.325]} scale={0.6}>
        <mesh castShadow receiveShadow geometry={nodes.book_cover005_1.geometry} material={materials['book_cover.005']} />
        <mesh castShadow receiveShadow geometry={nodes.book_cover005_2.geometry} material={materials.book_paper} />
      </group>
      <mesh castShadow receiveShadow geometry={nodes.book_cover006.geometry} material={materials['book_cover.006']} position={[0.207, 0.157, 2.153]} rotation={[-Math.PI / 2, 0, -1.458]} scale={0.6} />
      <mesh castShadow receiveShadow geometry={nodes.book_cover007.geometry} material={materials['book_cover.007']} position={[-0.614, 0.225, 2.164]} rotation={[-Math.PI / 2, 0, -0.615]} scale={0.6} />
      <mesh castShadow receiveShadow geometry={nodes.Cabinet_cover.geometry} material={materials['wood (Oak Matt Antracite Gray)']} position={[-0.214, 0.052, 2.173]} rotation={[-Math.PI, 0, -Math.PI]} scale={0.6} />
      <mesh castShadow receiveShadow geometry={nodes.Cabinet1.geometry} material={materials.ceramic} position={[0.326, 0.058, 2.284]} rotation={[-Math.PI, 0, -Math.PI]} scale={0.6} />
      <group position={[-0.214, 0.465, 2.185]} rotation={[-Math.PI, 0, -Math.PI]} scale={0.6}>
        <Interactive>
          <mesh ref={screen} geometry={nodes.TV_1.geometry}
            onPointerEnter={event => { if (event.distance <= 0.7) toast.info('Tekan esc untuk realese cursor', { autoClose: 1000 }) }}>
            {/* <meshStandardMaterial map={texture} attach='material' /> */}
            <Html className={Styles.content} transform scale={0.04} position-x={0.038} occlude={props.occlude && [...controllers]} castShadow receiveShadow material={<meshStandardMaterial side={DoubleSide} opacity={0.1} />}>
              <div className='w-full h-full text-black'>
                <iframe src='https://itk.ac.id/' className='w-full h-full' title='ITK' />
              </div>
            </Html>
          </mesh>
        </Interactive>
        <mesh castShadow receiveShadow geometry={nodes.TV_2.geometry} material={materials.frame} />
      </group>
    </group>
  )
}

useGLTF.preload('models/RoomTV-transformed.glb')
